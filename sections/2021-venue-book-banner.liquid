<div class="py-4 d-none d-lg-block" style="background-color: #6B6967;">
  <div class="container">
    <div class="d-flex flex-column flex-lg-row align-items-center justify-content-center px-5">
      <h2 class="gkit-h2 text-white text-center my-0">{{ section.settings.titleText }}</h2>
      <button class="d-none d-lg-block gkit-btn-lg gkit-bg-pink ml-0 ml-lg-4 mt-5 mt-lg-0" onclick="resyOpenModalHero()">{{ section.settings.buttonText }}</button>
      <button class="d-block d-lg-none gkit-btn-lg gkit-bg-pink ml-0 ml-lg-4 mt-5 mt-lg-0 w-100" onclick="resyOpenModalHero()">{{ section.settings.buttonText }}</button>
    </div>
  </div>
</div>
{% if resyVenueId and resyVenueId != blank and resyApiKey and resyApiKey != blank %}
<script>
  function getFormattedDate(date) {
    const year = date.getFullYear();
    const month = (1 + date.getMonth()).toString().padStart(2, '0');
    const day = date.getDate().toString().padStart(2, '0');
    return year + '-' + month + '-' + day;
  }
  function resyOpenModalHero() {
    const currentDate = getFormattedDate(new Date());
    resyWidget.openModal({
      'venueId': {{ resyVenueId }},
      'apiKey': '{{ resyApiKey }}',
      'date': currentDate,
      'seats': 2 
    });
  }
</script>
{% endif %}

{% schema %}
{
  "name": "Venue Book Table Banner",
  "settings": [
    {
      "type": "color",
      "id": "backgroundColor",
      "label": "Background Colour",
      "default": "#6B6967"
    },
    {
      "type": "text",
      "id": "titleText",
      "label": "Title Text",
      "default": "Book your table at Grind"
    },
    {
      "type": "text",
      "id": "buttonText",
      "label": "Button Text",
      "default": "Book a Table"
    },
    {
      "type": "header",
      "content": "Resy Settings"
    },
    {
      "type": "text",
      "id": "resyVenueId",
      "label": "Resy Venue ID"
    },
    {
      "type": "text",
      "id": "resyApiKey",
      "label": "Resy API Key"
    }
  ],
  "presets": [
    {
      "name": "Venue Book Table Banner"
    }
  ]
}
{% endschema %}